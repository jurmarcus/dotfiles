Explain $ARGUMENTS in detail:

1. **Purpose** - What does this code do and why does it exist?
2. **How it works** - Walk through the logic step by step
3. **Key concepts** - Explain any patterns, algorithms, or domain concepts
4. **Dependencies** - What does it rely on and interface with?
5. **Gotchas** - Non-obvious behavior, edge cases, common mistakes

Assume I'm a developer who needs to modify this code.
